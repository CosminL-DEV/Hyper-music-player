-- Hyper Database
-- Version 1.0
DROP DATABASE IF EXISTS hyper;
CREATE DATABASE hyper;
USE hyper;

SET lc_time_names = 'es_ES';

--
-- Creación de las tablas
--

DROP TABLE IF EXISTS users;
CREATE TABLE users (
  username VARCHAR(16) NOT NULL,
  password VARCHAR(16) NOT NULL,
  profile_pic VARCHAR(150),
  PRIMARY KEY (username)
);

DROP TABLE IF EXISTS artist;
CREATE TABLE artist (
  artist_id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  name VARCHAR(20) NOT NULL,
  profile_pic VARCHAR(150) NOT NULL,
  PRIMARY KEY (artist_id, name)
);

DROP TABLE IF EXISTS album;
CREATE TABLE album (
  album_id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  name VARCHAR(35) NOT NULL,
  artist_id SMALLINT UNSIGNED NOT NULL,
  fecha TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  picture VARCHAR(150),
  FOREIGN KEY (artist_id) REFERENCES artist(artist_id),
  PRIMARY KEY (album_id)
);

-- Generos:
-- Nose 
DROP TABLE IF EXISTS song;
CREATE TABLE song (
  song_id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  name VARCHAR (20) NOT NULL,
  duracion VARCHAR(5) NOT NULL,
  genre VARCHAR(9) NOT NULL,
  downloaded BOOLEAN,
  url VARCHAR(150) NOT NULL,
  picture VARCHAR(150),
  PRIMARY KEY (song_id)
);

DROP TABLE IF EXISTS playlist;
CREATE TABLE playlist (
  playlist_id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  name VARCHAR(25),
  privacity VARCHAR(7),
  user VARCHAR(16) NOT NULL,
  picture VARCHAR(150),
  FOREIGN KEY (user) REFERENCES users(username),
  PRIMARY KEY (playlist_id)
);

DROP TABLE IF EXISTS registro_album;
CREATE TABLE registro_album (
  album_id SMALLINT UNSIGNED NOT NULL,
  song_id SMALLINT UNSIGNED NOT NULL,
  FOREIGN KEY (song_id) REFERENCES song(song_id),
  FOREIGN KEY (album_id) REFERENCES album(album_id)
);

DROP TABLE IF EXISTS registro_playlist;
CREATE TABLE registro_playlist (
  playlist_id SMALLINT UNSIGNED NOT NULL,
  song_id SMALLINT UNSIGNED NOT NULL,
  user_added VARCHAR(16) NOT NULL,
  fecha_added TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (song_id) REFERENCES song(song_id),
  FOREIGN KEY (user_added) REFERENCES users(username),
  FOREIGN KEY (playlist_id) REFERENCES playlist(playlist_id)
);

DROP TABLE IF EXISTS registro_song;
CREATE TABLE registro_song (
  song_id SMALLINT UNSIGNED NOT NULL,
  artist_id SMALLINT UNSIGNED NOT NULL,
  FOREIGN KEY (song_id) REFERENCES song(song_id),
  FOREIGN KEY (artist_id) REFERENCES artist(artist_id)
);

--
-- Inserción de datos
--

INSERT INTO users(username,password) VALUES ('cosmin','cosmin');

INSERT INTO artist(name, profile_pic) VALUES('JC REYES','https://i.imgur.com/EadAafp.png');
INSERT INTO artist(name, profile_pic) VALUES('Kidd Keo','https://i.imgur.com/Iri54fU.png');
INSERT INTO artist(name, profile_pic) VALUES('Ñengo Flow','https://i.imgur.com/xVr7irO.png');
INSERT INTO artist(name, profile_pic) VALUES('Duki','https://i.imgur.com/Pm70jae.png');
INSERT INTO artist(name, profile_pic) VALUES('Funzo & Baby Loud','https://i.imgur.com/wBP2YKx.png');
INSERT INTO artist(name, profile_pic) VALUES('J Balvin','https://i.imgur.com/9zd6Dkm.png');
INSERT INTO artist(name, profile_pic) VALUES('Rvfv','https://i.imgur.com/6mP0y49.png');
INSERT INTO artist(name, profile_pic) VALUES('Feid','https://i.imgur.com/dGzHOF4.png');
INSERT INTO artist(name, profile_pic) VALUES('Anuel AA','https://i.imgur.com/t8cJZf7.png');
INSERT INTO artist(name, profile_pic) VALUES('Bad Gyal','https://i.imgur.com/toPT9vQ.png');
INSERT INTO artist(name, profile_pic) VALUES('Paulo Londra','https://i.imgur.com/YKUYXcM.png');
INSERT INTO artist(name, profile_pic) VALUES('Daddy Yankee','https://i.imgur.com/TsYLisX.png');
INSERT INTO artist(name, profile_pic) VALUES('Bad Bunny','https://i.imgur.com/hXVukwI.png');
INSERT INTO artist(name, profile_pic) VALUES('Quevedo','https://i.imgur.com/J5bzde0.png');
INSERT INTO artist(name, profile_pic) VALUES('Tiago PZK','https://i.imgur.com/Ek1nbT0.png');
INSERT INTO artist(name, profile_pic) VALUES('Myke Towers','https://i.imgur.com/G1H4QRC.png');
INSERT INTO artist(name, profile_pic) VALUES('Avicii','https://i.imgur.com/jB9LrVt.png');

INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Vicios',1,'2022-03-03','https://i.imgur.com/uZc3eGA.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Los Green Lanters',1,'2021-03-02','https://i.imgur.com/3W53YZJ.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('BACK TO ROCKPORT',2,'2020-08-28','https://i.imgur.com/RumBcht.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Keoland',2,'2018-06-28','https://i.imgur.com/24YXbC2.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('The Goat',3,'2020-05-15','https://i.imgur.com/rE2QCKW.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Real G4 Life Vol. 3',3,'2017-02-10','https://i.imgur.com/bDIEPy6.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Temporada de Reggaeton',4,'2021-11-25','https://i.imgur.com/AQJpdaM.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Desde el Fin del Mundo',4,'2021-04-22','https://i.imgur.com/ljFT1E2.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Súper Sangre Joven',4,'2019-11-01','https://i.imgur.com/08SgJHM.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('INMORTALES',5,'2022-02-11','https://i.imgur.com/4f6zbPo.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Colores',6,'2020-03-19','https://i.imgur.com/O1SI1zL.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('OASIS',6,'2019-06-28','https://i.imgur.com/G3VGsZg.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('OASIS',13,'2019-06-28','https://i.imgur.com/G3VGsZg.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('La Familia B Sides',6,'2014-09-16','https://i.imgur.com/oCHYqsg.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('NASTU',7,'2022-01-28','https://i.imgur.com/J4cfp1i.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('FERXXO (VOL1: M.O.R)',8,'2020-04-23','https://i.imgur.com/Dywd4Gc.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('INTER SHIBUYA',8,'2021-12-17','https://i.imgur.com/gX1fC3O.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Las Leyendas Nunca Mueren',9,'2021-11-26','https://i.imgur.com/1rjgTyd.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Emmanuel',9,'2020-05-29','https://i.imgur.com/Q0RHnfj.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Real Hasta la Muerte',9,'2018-07-17','https://i.imgur.com/eW8WPEf.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Warm Up',10,'2021-03-18','https://i.imgur.com/aSqDqqC.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Slow Wine Mixtape',10,'2016-11-11','https://i.imgur.com/8pSFvK3.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Homerun',11,'2019-05-23','https://i.imgur.com/ZZEljqL.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('LEGENDADDY',12,'2022-03-25','https://i.imgur.com/5XrNBH5.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Prestige',12,'2012-01-01','https://i.imgur.com/cs8GFAX.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Talento de Barrio',12,'2008-08-12','https://i.imgur.com/Tpe2fYb.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('LAS QUE NO IBAN A SALIR',13,'2020-05-10','https://i.imgur.com/nPnVk3k.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('YHLQMDLG',13,'2020-02-29','https://i.imgur.com/mODK34N.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('X 100PRE',13,'2018-12-23','https://i.imgur.com/A96NBlo.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('CATO SOUNDTRACK',15,'2021-10-20','https://i.imgur.com/sro2AZM.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Easy Money Baby',16,'2020-01-24','https://i.imgur.com/cyp1owW.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('TIM',17,'2019-06-06','https://i.imgur.com/31J1geD.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('Stories',17,'2015-10-02','https://i.imgur.com/EtQYvQX.png');
INSERT INTO album(name,artist_id,fecha,picture) VALUES ('True: Avicii By Avicii',17,'2014-01-01','https://i.imgur.com/Fx0Dkp6.png');